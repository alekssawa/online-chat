# ğŸ’¬ Online Chat App

ĞŸÑ€Ğ¾ĞµĞºÑ‚ **Ğ¾Ğ½Ğ»Ğ°Ğ¹Ğ½-Ñ‡Ğ°Ñ‚Ğ°** Ñ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸ĞµĞ¼ **GraphQL, Prisma, Express Ğ¸ React**.  
ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ĞµÑ‚ Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ, Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ñ‡ĞµÑ€ĞµĞ· JWT + Refresh Token, ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ ĞºĞ¾Ğ¼Ğ½Ğ°Ñ‚ Ğ¸ Ğ¾Ğ±Ğ¼ĞµĞ½ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸ÑĞ¼Ğ¸ Ğ² Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾Ğ¼ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸.

---

## âœ¨ Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»

- ğŸ”‘ Ğ ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ¸ Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹  
- ğŸ‘¤ ĞŸÑ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ (email + Ğ¸Ğ¼Ñ)  
- ğŸ’¬ Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ¸ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ Ğº ĞºĞ¾Ğ¼Ğ½Ğ°Ñ‚Ğ°Ğ¼  
- ğŸ“¨ ĞÑ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ° Ğ¸ Ñ€ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹  
- â±ï¸ ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ `updatedAt` Ğ¿Ñ€Ğ¸ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¸ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹  
- ğŸ”„ Refresh Token Ğ¼ĞµÑ…Ğ°Ğ½Ğ¸Ğ·Ğ¼ Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾Ğ´Ğ»ĞµĞ½Ğ¸Ñ ÑĞµÑÑĞ¸Ğ¸  

---

## ğŸ› ï¸ Ğ¡Ñ‚ĞµĞº Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¹

**Backend**:
- [Node.js](https://nodejs.org/) + [Express](https://expressjs.com/)  
- [GraphQL](https://graphql.org/) + [Apollo Server](https://www.apollographql.com/docs/apollo-server/)  
- [Prisma ORM](https://www.prisma.io/)  
- [PostgreSQL](https://www.postgresql.org/)  

**Frontend**:
- [React](https://reactjs.org/) + [Vite](https://vitejs.dev/)  
- [TypeScript](https://www.typescriptlang.org/)  
- [Apollo Client](https://www.apollographql.com/docs/react/)  

---

## ğŸš€ Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

### 1. ĞšĞ»Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
```bash
git clone https://github.com/your-username/online-chat.git
cd online-chat
```


### 2. Backend
```bash
ĞšĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ ĞºĞ¾Ğ´
cd server
npm install
npx prisma migrate dev
npm run dev
```

Ğ¡ĞµÑ€Ğ²ĞµÑ€ Ğ¿Ğ¾Ğ´Ğ½Ğ¸Ğ¼ĞµÑ‚ÑÑ Ğ½Ğ° http://localhost:3000/graphql

### 3. Frontend
```bash
ĞšĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ ĞºĞ¾Ğ´
cd client
npm install
npm run dev
```

ĞÑ‚ĞºÑ€Ğ¾Ğ¹ http://localhost:5173

ğŸ“‚ Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°
```bash
online-chat/
â”‚â”€â”€ server/              # Backend (Express + GraphQL + Prisma)
â”‚   â””â”€â”€ src                  
â”‚       â”œâ”€â”€ graphql/              # GraphQL ÑĞ»Ğ¾Ğ¹
â”‚       â”‚   â”œâ”€â”€ resolvers/        # Ğ ĞµĞ·Ğ¾Ğ»Ğ²ĞµÑ€Ñ‹ (auth, message, room, user)
â”‚       â”‚   â”œâ”€â”€ resolvers.ts      # Ğ˜Ğ½Ğ´ĞµĞºÑ Ñ€ĞµĞ·Ğ¾Ğ»Ğ²ĞµÑ€Ğ¾Ğ²
â”‚       â”‚   â”œâ”€â”€ schema.ts         # GraphQL-ÑÑ…ĞµĞ¼Ğ°
â”‚       â”‚   â””â”€â”€ types.ts          # Ğ¢Ğ¸Ğ¿Ñ‹
â”‚       â”œâ”€â”€ lib/                  # Ğ£Ñ‚Ğ¸Ğ»Ğ¸Ñ‚Ñ‹
â”‚       â”‚   â”œâ”€â”€ authDecorator.ts
â”‚       â”‚   â”œâ”€â”€ prismaClient.ts
â”‚       â”‚   â””â”€â”€ tokenService.ts
â”‚       â”œâ”€â”€ middlewares/          # Middleware
â”‚       â”‚   â”œâ”€â”€ auth.middleware.ts
â”‚       â”‚   â””â”€â”€ refresh.middleware.ts
â”‚       â”œâ”€â”€ sockets/              # WebSocket
â”‚       â”‚   â””â”€â”€ socketHandler.ts
â”‚       â””â”€â”€ server.ts             # Ğ¢Ğ¾Ñ‡ĞºĞ° Ğ²Ñ…Ğ¾Ğ´Ğ° (Express + GraphQL + WebSocket)
â”‚
â””â”€â”€ client/              # Frontend (React + TS)
    â””â”€â”€ src/                      # Ğ˜ÑÑ…Ğ¾Ğ´Ğ½Ğ¸ĞºĞ¸ React + TypeScript
        â”œâ”€â”€ assets/               # ĞœĞµĞ´Ğ¸Ğ°-Ñ„Ğ°Ğ¹Ğ»Ñ‹
        â”‚   â””â”€â”€ react.svg
        â”œâ”€â”€ components/           # ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹
        â”‚   â”œâ”€â”€ messageView/      # UI Ğ´Ğ»Ñ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹
        â”‚   â”‚   â”œâ”€â”€ messageBox/   # ĞĞ´Ğ¸Ğ½ Ğ±Ğ»Ğ¾Ğº ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ
        â”‚   â”‚   â”‚   â”œâ”€â”€ MessageBox.tsx
        â”‚   â”‚   â”‚   â””â”€â”€ MessageBox.module.css
        â”‚   â”‚   â”œâ”€â”€ sendMessage/  # Ğ¤Ğ¾Ñ€Ğ¼Ğ° Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ¸ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹
        â”‚   â”‚   â”‚   â”œâ”€â”€ SendMessage.tsx
        â”‚   â”‚   â”‚   â””â”€â”€ SendMessage.module.css
        â”‚   â”‚   â”œâ”€â”€ MessageView.tsx
        â”‚   â”‚   â””â”€â”€ MessageView.module.css
        â”‚   â”œâ”€â”€ roomsList/        # Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº ĞºĞ¾Ğ¼Ğ½Ğ°Ñ‚
        â”‚   â”‚   â”œâ”€â”€ RoomsList.tsx
        â”‚   â”‚   â””â”€â”€ RoomsList.module.css
        â”‚   â””â”€â”€ usersList/        # Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹
        â”‚       â”œâ”€â”€ UserList.tsx
        â”‚       â””â”€â”€ UserList.module.css
        â”‚
        â”œâ”€â”€ hooks/                # ĞšĞ°ÑÑ‚Ğ¾Ğ¼Ğ½Ñ‹Ğµ Ñ…ÑƒĞºĞ¸
        â”‚   â””â”€â”€ useAuth.ts        # ĞÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ + refresh token
        â”œâ”€â”€ pages/                # Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹
        â”‚   â”œâ”€â”€ ChatRoom/         # Ğ§Ğ°Ñ‚-ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ°
        â”‚   â”‚   â”œâ”€â”€ ChatRoom.tsx
        â”‚   â”‚   â””â”€â”€ ChatRoom.module.css
        â”‚   â””â”€â”€ General/          # Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ + Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ
        â”‚       â”œâ”€â”€ authForm/     # Ğ¤Ğ¾Ñ€Ğ¼Ğ° Ğ»Ğ¾Ğ³Ğ¸Ğ½Ğ°/Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸
        â”‚       â”‚   â”œâ”€â”€ AuthForm.tsx
        â”‚       â”‚   â””â”€â”€ AuthForm.module.css
        â”‚       â””â”€â”€ General.tsx
        â”‚
        â”œâ”€â”€ styles/               # Ğ“Ğ»Ğ¾Ğ±Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ ÑÑ‚Ğ¸Ğ»Ğ¸
        â”‚   â”œâ”€â”€ reset.css
        â”‚   â””â”€â”€ common.css
        â”œâ”€â”€ App.tsx               # Ğ“Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚
        â”œâ”€â”€ main.tsx              # Ğ’Ñ…Ğ¾Ğ´Ğ½Ğ°Ñ Ñ‚Ğ¾Ñ‡ĞºĞ° Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ
        â””â”€â”€ vite-env.d.ts         # TypeScript Ñ‚Ğ¸Ğ¿Ñ‹ Ğ´Ğ»Ñ Vite
 
 

```

ğŸ” ĞÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ
```bash
Access Token Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑÑ Ğ² localStorage
Refresh Token â€” Ğ² HTTP-only cookie
ĞŸÑ€Ğ¸ Ğ¸ÑÑ‚ĞµÑ‡ĞµĞ½Ğ¸Ğ¸ accessToken Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ÑĞµÑ‚ÑÑ refreshToken
```
